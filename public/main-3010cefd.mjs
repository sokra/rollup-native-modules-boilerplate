import{R as e,a as n}from"./react-4ce18c00.mjs";import"./object-assign-c4c0b8e5.mjs";import"./core-js-c26d8b53.mjs";import{f as t}from"./date-fns-466f94c0.mjs";import{h as o,j as s}from"./highlight.js-318c44ab.mjs";import{s as i}from"./style-inject-d8a06a3d.mjs";var a=Object.freeze({initialize:function({modulePath:e=".",importFunctionName:n="__import__"}={}){try{self[n]=new Function("u","return import(u)")}catch(t){const o=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[n]=e=>new Promise((t,i)=>{const a=new URL(e,o);if(self[n].moduleMap[a])return t(self[n].moduleMap[a]);const r=new Blob([`import * as m from '${a}';`,`${n}.moduleMap['${a}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){i(new Error(`Failed to import: ${e}`)),s(c)},onload(){t(self[n].moduleMap[a]),s(c)}});document.head.appendChild(c)}),self[n].moduleMap={}}}});i('/*\n Copyright 2019 Google Inc. All Rights Reserved.\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\n\n.hljs {\n  border-radius: 4px;\n  font-family: Menlo, monospace;\n  padding: 1.25em;\n}\n'),o.registerLanguage("javascript",s);class r extends e.Component{shouldComponentUpdate(e){return!(this.props.code===e.code&&this.props.lang===e.lang)}render(){const n=o.highlight(this.props.lang,this.props.code).value;return e.createElement("pre",{className:"hljs",dangerouslySetInnerHTML:{__html:n}})}}const c=performance.timeOrigin||performance.timing.navigationStart;i('/*\n Copyright 2019 Google Inc. All Rights Reserved.\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\n\n.App-heading {\n  font-size: 1.667em;\n  font-weight: 500;\n  margin: 0 0 1.5rem;\n}\n\n.App-subHeading {\n  font-size: 1.333em;\n  font-weight: 500;\n  margin: 1.5rem 0;\n}\n\n.App-module {\n  animation-name: App-moduleFadeOut;\n  animation-duration: 5s;\n  list-style: none;\n  font-family: Menlo, monospace;\n  margin: 0 -0.2em;\n  padding: 0.2em;\n}\n\n.App-moduleTimestamp {\n  color: #999;\n}\n\n.App-moduleURL {\n  font-weight: 500;\n  padding-left: 0.5em;\n  text-decoration: none;\n}\n\n@keyframes App-moduleFadeOut {\n  from { background-color: hsla(60, 100%, 50%, .2); }\n  to { background-color: hsla(60, 100%, 50%, 0); }\n}\n');i('/*\n Copyright 2019 Google Inc. All Rights Reserved.\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\n\n.Button {\n  background: hsla(0, 0%, 0%, 0.1);\n  border: 1px solid transparent;\n  border-radius: 4px;\n  color: inherit;\n  cursor: pointer;\n  display: inline-block;\n  font: inherit;\n  max-width: 100%;\n  opacity: 1;\n  padding: .75em 1.25em;\n  transition: background 0.2s ease-in-out;\n  white-space: nowrap;\n}\n\n.Button:hover,\n.Button:focus {\n  background: hsla(0, 0%, 0%, 0.2);\n}\n');class l extends e.Component{constructor(){super(),this.state={modules:this.getImportedModules()},this.importAsyncDeps=this.importAsyncDeps.bind(this)}getImportedModules(){return performance.getEntriesByType("resource").filter(e=>e.name.match(/\.m?js$/)).map(e=>{const n=new Date(Math.round(e.responseEnd+c)),o=t(n,"hh:mm:ss.SSS");return{URL:new URL(e.name,location.href).pathname,timestamp:o}})}async importAsyncDeps(){const{AsyncComponent:e}=await __import__("./AsyncComponent-343a5b6a.mjs");console.log(new e),this.setState({modules:this.getImportedModules()})}componentDidMount(){"?auto"===window.location.search&&setTimeout(()=>this.importAsyncDeps(),2e3)}render(){const n=["// `AsyncComponent.mjs` imports `lodash-es` and `rxjs`.","const {AsyncComponent} = await import('./AsyncComponent.mjs');","","// Logs an `AsyncComponent` instance, which contains the `debounce`","// and `Observable` properties imported from `lodash-es` and `rxjs`.","console.log(new AsyncComponent());"].join("\n");return e.createElement("div",{class:"App"},e.createElement("h2",{className:"App-heading"},"JavaScript Modules in Production Demo"),e.createElement("p",null,"This demo uses real, ES2015 JavaScript modules loaded with module scripts and ",e.createElement("code",null,"import")," statements. Everything you see in the intial render is done with statically imported modules. To see dynamic ",e.createElement("code",null,"import()")," in action, click the button below to run the following code:"),e.createElement(r,{code:n,lang:"javascript"}),e.createElement("p",null,e.createElement("button",{className:"Button",onClick:this.importAsyncDeps},"Run code  →")),e.createElement("p",null,"Running this code will dynamically ",e.createElement("code",null,"import()")," the ",e.createElement("code",null,"AsyncComponent.mjs")," module, as well as its dependencies (",e.createElement("code",null,"lodash-es")," and ",e.createElement("code",null," rxjs"),"). After you run the code, notice how the list of modules below changes. ",e.createElement("em",null,"(View source or click links below to see the module code.)")),e.createElement("h3",{className:"App-subHeading"},"Loaded modules"),e.createElement("ul",null,this.state.modules.map(n=>{let{timestamp:t,URL:o}=n;return e.createElement("li",{key:o,className:"App-module"},e.createElement("time",{className:"App-moduleTimestamp"},"[",t,"]"),e.createElement("a",{className:"App-moduleURL",href:o},o))})))}}a.initialize({modulePath:"/"}),n.render(e.createElement(l,null),document.getElementById("app"));
